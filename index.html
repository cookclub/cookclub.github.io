<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Sign-Up</title>
    <link rel="icon" href="./favicon.svg" type="image/svg+xml">
    <!-- Preconnects and font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Fraunces for headings only; use swap to prevent layout shift -->
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-wrapper">
        <div class="cover-column">
            <img src="ThatSoundsSoGood_cover.jpg" alt="That Sounds So Good book cover" />
            <div class="mobile-hero-overlay" aria-hidden="true"></div>
        </div>
        <div class="content-column">
            <div class="hero-text">
                <p>This month‚Äôs book is That Sounds So Good by Carla Lalli Music ‚Äî brought to the table by our featured club member. RSVP below to let us know how you're joining.</p>
            </div>

            <div id="rsvp-form">
            <div class="main-container">
                <div class="form-card">
            <form id="recipeForm" novalidate>
                <input type="hidden" id="eventName" name="eventName" readonly>
                <input type="hidden" id="eventDate" name="eventDate" readonly>

                <div class="form-group" id="nameSelectGroup">
                    <label for="nameSelect">Your Name *</label>
                    <select id="nameSelect" name="nameSelect" required></select>
                </div>
                <div class="form-group" id="nameInputGroup" style="display:none;">
                    <label for="nameInput">Your Name *</label>
                    <span class="sub-label">Leave blank if you‚Äôre happy to appear as ‚ÄúGuest‚Äù on the menu.</span>
                    <input id="nameInput" name="nameInput" type="text" placeholder="Type your name">
                    <button type="button" id="backToList" class="switch-link">Select from list</button>
                </div>
                <div class="form-group" id="instagramGroup" style="display:none;">
                    <label for="instagramHandle">Instagram handle</label>
                    <span class="sub-label">(required ‚Äì used privately, never shown)</span>
                    <input id="instagramHandle" name="instagramHandle" type="text" placeholder="@yourhandle">
                </div>
                <div class="form-group">
                    <label>How are you joining? *</label>
                    <div class="radio-group" id="cookingGroup">
                        <label class="radio-card">
                            <input type="radio" name="cooking" value="yes">
                            <span class="icon">üë©‚Äçüç≥</span>
                            <span class="title">Cooking something</span>
                            <span class="subtitle">I'll bring a dish</span>
                        </label>
                        <label class="radio-card">
                            <input type="radio" name="cooking" value="no">
                            <span class="icon">üçΩÔ∏è</span>
                            <span class="title">Just showing up</span>
                            <span class="subtitle">I'm here to eat</span>
                        </label>
                    </div>
                </div>
                <div class="form-group" id="recipeGroup" style="display:none;">
                    <label for="recipe">What are you cooking? *</label>
                    <input id="recipe" name="recipe" placeholder="Select a recipe‚Ä¶" readonly>
                    <div class="recipe-entry" id="recipeEntry" style="display:none;"></div>
                    <a href="#" id="changeRecipe" class="change-link" style="display:none;">Change</a>
                </div>
                <div class="form-group">
                    <label for="notes">Anything else we should know?</label>
                    <span class="sub-label">(optional ‚Äì This note will post in Discord. e.g., ‚ÄúBringing a +1‚Äù or ‚ÄúTrying a dairy-free version‚Äù)</span>
                    <textarea id="notes" name="notes"></textarea>
                </div>
                <button type="submit" id="submitBtn" disabled>
                    <span class="btn-text">Submit RSVP</span>
                    <span class="btn-loading" style="display:none;">Submitting...</span>
                </button>
            </form>
            <div id="message" class="message"></div>
        </div>

        <div class="menu-card">
            <h2>Menu In Progress</h2>
            <div id="dishCount" class="dish-count"></div>
            <div class="menu-list">
                <!-- menu items will be injected here -->
            </div>
        </div>
        </div>
        <!-- Confirmation message shown after successful RSVP -->
        <div id="confirmation" class="confirmation-message">
            <h2 id="confirmationHeading">You're In! Get Ready to Feast!</h2>
            <p>Your RSVP is confirmed. See you soon!</p>
        </div>
    </div>
    </div>

    <div id="recipeModal" class="recipe-modal" aria-hidden="true">
        <div class="recipe-modal-content">
            <div class="recipe-modal-header">
                <input type="text" id="recipeSearch" placeholder="Search recipes‚Ä¶">
                <button type="button" id="recipeModalClose" class="close-modal">Close</button>
            </div>
            <div id="recipeModalList" class="recipe-modal-list"></div>
        </div>
    </div>

    <!-- Full screen recipe detail modal -->
    <div id="recipeDetailModal" class="recipe-detail-modal" aria-hidden="true" role="dialog">
        <div class="recipe-detail-card" tabindex="-1">
            <button type="button" id="detailClose" class="detail-close" aria-label="Close">√ó</button>
            <div id="recipeDetailContent" class="recipe-detail-content"></div>
            <div class="detail-actions">
                <button type="button" id="shareRecipe" class="share-btn">Share</button>
            </div>
        </div>
    </div>

    <!-- Loading overlay shown while recipes load -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loader" aria-hidden="true">
            <div class="pot"><div class="spoon"></div></div>
        </div>
        <p class="loading-text">Just a moment! We‚Äôre warming up the kitchen and gathering all the delicious recipes for you‚Ä¶</p>
    </div>

    <script src="config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
